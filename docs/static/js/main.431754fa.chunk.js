(this["webpackJsonptw-thrall-map"]=this["webpackJsonptw-thrall-map"]||[]).push([[0],{21:function(t,e,n){},23:function(t,e,n){},24:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var c,l=n(0),o=n.n(l),a=n(8),i=n.n(a),r=(n(21),n(22),n(12)),s=n(13),d=n(16),u=n(15),j=(n(23),n(4)),h=n(33),m=n(34),b=n(35),f=n(2),O=(n(24),n(1)),v=function(t){return Object(O.jsxs)("div",{className:"thrall-header",onClick:function(){return t.onSelect(t.thrall)},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"thrall-header-name",children:t.thrall.name}),Object(O.jsx)("div",{className:"thrall-header-type",children:t.thrall.type})]}),Object(O.jsx)("div",{style:{marginLeft:"auto",marginRight:"16px"},children:Object(O.jsx)("span",{className:"material-icons",style:{fontSize:"20pt"},children:t.icon})})]})},p=function(t){return Object(O.jsx)(v,{onSelect:t.onSelect,thrall:t.thrall,icon:"chevron_right"})};!function(t){t.ALCHEMIST="ALCHEMIST",t.BLACKSMITH="BLACKSMITH",t.ARMORER="ARMORER",t.CARPENTER="CARPENTER",t.TASKMASTER="TASKMASTER",t.GROOMER="GROOMER",t.SMELTER="SMELTER  "}(c||(c={}));n(26),n(27);var x=function(t){return Object(O.jsx)("div",{onClick:function(){return t.onSelectLocation(t.location)},className:"thrall-detail-single-location",children:Object(O.jsxs)("div",{className:"display-in-row display-in-center ",children:[Object(O.jsx)("div",{style:{marginRight:"16px"},children:Object(O.jsx)("img",{alt:"icon camp",src:"/tw-map/fc_assets/icon_camp.png"})}),Object(O.jsxs)("div",{style:{marginRight:"auto"},children:[Object(O.jsx)("div",{style:{fontSize:"14pt"},children:t.location.location}),Object(O.jsxs)("div",{style:{fontSize:"11pt"},children:["Spawns at the ",t.location.spawnSpot," spot."]}),Object(O.jsxs)("div",{style:{fontSize:"9pt"},children:["Coordiantes: ",t.location.x," / ",t.location.y," / ",t.location.z]})]})]})})},g=function(t){var e;return Object(O.jsx)("div",{className:"thrall-location-list-container",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"thrall-location-list-header",children:"Locations"}),Object(O.jsx)("div",{className:"thrall-location-list-subheader",children:"Click a location to jump to it"}),Object(O.jsx)("div",{className:"thrall-details-locations",children:null===(e=t.thrall)||void 0===e?void 0:e.locations.map((function(e,n){return Object(O.jsx)(x,{onSelectLocation:t.onSelectLocation,location:e},n)}))})]})})},S=function(t){var e,n=t.focused?"thrall-details-sliding-in":"thrall-details-sliding-out";return Object(O.jsx)("div",{className:"thrall-details-container "+n,children:Object(O.jsxs)("div",{className:"thrall-details",children:[Object(O.jsx)(v,{thrall:t.thrall||{locations:[],name:"",type:c.ALCHEMIST,id:"ada"},icon:"chevron_left",onSelect:t.onDeSelect}),Object(O.jsx)("div",{className:"thrall-location-description",children:null===(e=t.thrall)||void 0===e?void 0:e.locationDescription}),Object(O.jsx)(g,{thrall:t.thrall,onSelectLocation:t.onSelectLocation})]})})},L=(n(28),function(t){var e=t.selectedThrallFocused?"thrall-list-sliding-out":"thrall-list-sliding-in";return Object(O.jsxs)(o.a.Fragment,{children:[Object(O.jsx)(S,{focused:t.selectedThrallFocused,onSelectLocation:t.onSelectLocation,thrall:t.selectedThrall,onDeSelect:t.onDeselectThrall}),Object(O.jsx)("div",{className:"thrall-list "+e,children:t.thralls.sort((function(t,e){return t.name.localeCompare(e.name)})).map((function(e){return Object(O.jsx)(p,{onSelect:t.onSelectThrall,thrall:e},e.id)}))})]})});function T(t){return{lat:-1*t.y,lng:t.x}}var y=n(30);function w(t){var e=Object(y.a)();if(t.location){var n=t.location.zoom?t.location.zoom:e.getZoom(),c=t.location.center?t.location.center:e.getCenter();e.flyTo(c,n)}return null}var R=n(31),C=n(32),N=Object(f.icon)({iconUrl:"/tw-map/fc_assets/icon_camp.png",iconSize:[24,24],tooltipAnchor:[0,12]});function z(t){Object(y.a)().getZoom();if(!t.focused)return[];var e=t.thrall;return e?e.locations.map((function(t){return function(t,e,n){return Object(O.jsx)(R.a,{icon:N,position:e,children:Object(O.jsx)(C.a,{direction:"bottom",children:t.name})},e.lat+"_"+e.lng)}(e,T(t))})):Object(O.jsx)(o.a.Fragment,{})}function E(t){var e=Object(y.b)({click:function(t){console.log(t.latlng)},zoom:function(t){console.log(t.target._zoom)},drag:function(){e.panInsideBounds(t.mapBounds,{animate:!1})},locationfound:function(t){console.log("location found:",t)}});return null}var M=new f.LatLng(-369398,-342934),A=new f.LatLng(444603,475140),_=new f.LatLngBounds(M,A);function B(t){var e=Object(l.useState)(void 0),n=Object(j.a)(e,2),c=n[0],o=n[1],a=Object(l.useState)(!1),i=Object(j.a)(a,2),r=i[0],s=i[1],d=Object(l.useState)(void 0),u=Object(j.a)(d,2),v=u[0],p=u[1];return Object(O.jsxs)("div",{className:"thrall-map-wrapper",children:[Object(O.jsx)("div",{id:"info-button",className:"display-in-center",children:Object(O.jsx)("span",{className:"material-icons",style:{fontSize:"18pt"},children:"help_outline"})}),Object(O.jsxs)(h.a,{center:[0,0],style:{height:"100vh",width:"calc(100vw - var(--sidebar-width))"},minZoom:-8.7,maxZoom:-4,zoomSnap:.1,zoomDelta:.1,crs:f.CRS.Simple,maxBounds:_,zoomControl:!1,zoom:-8.7,children:[Object(O.jsx)(m.a,{}),Object(O.jsx)(b.a,{url:"/tw-map/fc_assets/full_map_low_quality.jpg",bounds:_}),Object(O.jsx)(E,{mapBounds:_}),Object(O.jsx)(w,{location:v}),Object(O.jsx)(z,{thrall:c,focused:r})]}),Object(O.jsx)("div",{className:"sidebar-right",children:Object(O.jsx)(L,{thralls:t.data,onSelectLocation:function(t){p({center:T(t),zoom:-7})},selectedThrallFocused:r,selectedThrall:c,onDeselectThrall:function(){s(!1),p({zoom:-8.7})},onSelectThrall:function(t){var e=function(t){if(t.length<=0)return null;if(t.length<=1)return T(t[0]);if(t.length<=2){var e=t.map((function(t){return T(t)}));return new f.Polyline(e).getBounds().getCenter()}var n=t.map((function(t){return T(t)}));return new f.Polygon(n).getBounds().getCenter()}(t.locations);e&&p({zoom:-8,center:e}),o(t),s(!0)}})})]})}var F=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var c;return Object(r.a)(this,n),(c=e.call(this,t)).state={data:[]},c}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch(window.location.href+"/data.json").then((function(t){return t.json()})).then((function(e){return t.setState({data:e})}))}},{key:"render",value:function(){return Object(O.jsx)("div",{children:Object(O.jsx)(B,{data:this.state.data})})}}]),n}(o.a.Component),k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(e){var n=e.getCLS,c=e.getFID,l=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),c(t),l(t),o(t),a(t)}))};i.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(F,{})}),document.getElementById("root")),k()}},[[29,1,2]]]);
//# sourceMappingURL=main.431754fa.chunk.js.map