(this["webpackJsonptw-thrall-map"]=this["webpackJsonptw-thrall-map"]||[]).push([[0],{22:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){},26:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){"use strict";n.r(e);var a,o=n(1),i=n.n(o),c=n(9),s=n.n(c),r=(n(22),n(23),n(13)),l=n(14),d=n(17),h=n(16),j=(n(24),n(25),n(4)),u=n(37),f=n(38),b=n(39),m=n(2),p=(n(26),n(0)),O=function(t){return Object(p.jsxs)("div",{className:"thrall-header",onClick:function(){return t.onSelect(t.thrall)},children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"thrall-header-name",children:t.thrall.name}),Object(p.jsx)("div",{className:"thrall-header-type",children:t.thrall.type})]}),Object(p.jsx)("div",{style:{marginLeft:"auto",marginRight:"16px"},children:Object(p.jsx)("span",{className:"material-icons",style:{fontSize:"20pt"},children:t.icon})})]})},x=function(t){return Object(p.jsx)(O,{onSelect:t.onSelect,thrall:t.thrall,icon:"chevron_right"})};!function(t){t.ALCHEMIST="ALCHEMIST",t.BLACKSMITH="BLACKSMITH",t.ARMORER="ARMORER",t.CARPENTER="CARPENTER",t.TASKMASTER="TASKMASTER",t.GROOMER="GROOMER",t.SMELTER="SMELTER  "}(a||(a={}));n(28),n(29);var v=function(t){return Object(p.jsx)("div",{onClick:function(){return t.onSelectLocation(t.location)},className:"thrall-detail-single-location",children:Object(p.jsxs)("div",{className:"display-in-row display-in-center ",children:[Object(p.jsx)("div",{style:{marginRight:"16px"},children:Object(p.jsx)("img",{alt:"icon camp",src:"/tw-map/fc_assets/icon_camp.png"})}),Object(p.jsxs)("div",{style:{marginRight:"auto"},children:[Object(p.jsx)("div",{style:{fontSize:"14pt"},children:t.location.location}),Object(p.jsxs)("div",{style:{fontSize:"11pt"},children:["Spawns at the ",t.location.spawnSpot," spot."]}),Object(p.jsx)("div",{style:{fontSize:"9pt"},children:t.location.spawnSpotDetail}),Object(p.jsxs)("div",{style:{fontSize:"9pt"},children:["Coordiantes: ",t.location.x," / ",t.location.y," / ",t.location.z]})]})]})})},g=function(t){var e;return Object(p.jsx)("div",{className:"thrall-location-list-container",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"thrall-location-list-header",children:"Locations"}),Object(p.jsx)("div",{className:"thrall-location-list-subheader",children:"Click a location to jump to it"}),Object(p.jsx)("div",{className:"thrall-details-locations",children:null===(e=t.thrall)||void 0===e?void 0:e.locations.map((function(e,n){return Object(p.jsx)(v,{onSelectLocation:t.onSelectLocation,location:e},n)}))})]})})},S=function(t){var e,n=t.focused?"thrall-details-sliding-in":"thrall-details-sliding-out";return Object(p.jsx)("div",{className:"thrall-details-container "+n,children:Object(p.jsxs)("div",{className:"thrall-details",children:[Object(p.jsx)(O,{thrall:t.thrall||{locations:[],name:"",type:a.ALCHEMIST,id:"ada"},icon:"chevron_left",onSelect:t.onDeSelect}),Object(p.jsx)("div",{className:"thrall-location-description",children:null===(e=t.thrall)||void 0===e?void 0:e.locationDescription}),Object(p.jsx)(g,{thrall:t.thrall,onSelectLocation:t.onSelectLocation})]})})},w=(n(30),function(t){var e=t.selectedThrallFocused?"thrall-list-sliding-out":"thrall-list-sliding-in";return Object(p.jsxs)(i.a.Fragment,{children:[Object(p.jsx)(S,{focused:t.selectedThrallFocused,onSelectLocation:t.onSelectLocation,thrall:t.selectedThrall,onDeSelect:t.onDeselectThrall}),Object(p.jsx)("div",{className:"thrall-list "+e,children:t.thralls.sort((function(t,e){return t.name.localeCompare(e.name)})).map((function(e){return Object(p.jsx)(x,{onSelect:t.onSelectThrall,thrall:e},e.id)}))})]})});function y(t){return{lat:-1*t.y,lng:t.x}}var C=n(34);function N(t){var e=Object(C.a)();if(t.location&&!t.location.preventPan){var n=t.location.zoom?t.location.zoom:e.getZoom(),a=t.location.center?t.location.center:e.getCenter();e.flyTo(a,n)}return null}var T=n(35),L=n(36),k=Object(m.icon)({iconUrl:"/tw-map/fc_assets/icon_camp.png",iconSize:[24,24],tooltipAnchor:[0,12]});function R(t){if(!t.focused)return Object(p.jsx)(i.a.Fragment,{});var e=t.thrall;return e?e.locations.map((function(t){return function(t,e){return Object(p.jsx)(T.a,{icon:k,position:e,children:Object(p.jsx)(L.a,{direction:"bottom",children:t.name})},e.lat+"_"+e.lng)}(e,y(t))})):Object(p.jsx)(i.a.Fragment,{})}function z(t){var e=Object(C.b)({zoom:function(){console.log(e.getZoom()),t.onZoomCenterChange({zoom:e.getZoom(),center:e.getCenter(),preventPan:!0})},click:function(t){console.log(t.latlng.lat,t.latlng.lng)},drag:function(){e.panInsideBounds(t.mapBounds,{animate:!1}),t.onZoomCenterChange({zoom:e.getZoom(),center:e.getCenter(),preventPan:!0})}});return null}n(31);var E=function(t){return t.open?Object(p.jsx)("div",{className:"dialog-container",onClick:t.onClose,children:Object(p.jsxs)("div",{className:"dialog",onClick:function(t){"A"!==t.target.tagName&&t.preventDefault(),t.stopPropagation()},children:[Object(p.jsx)("div",{className:"dialog-header",children:"Information"}),Object(p.jsx)("div",{className:"dialog-subheader",children:"About"}),Object(p.jsxs)("div",{children:["This map contains information about the thralls added by the\xa0",Object(p.jsx)("a",{target:"_blank",href:"https://steamcommunity.com/sharedfiles/filedetails/?id=1326031593",rel:"noreferrer",children:"Thrall Wars Dungeon Mod"}),".",Object(p.jsx)("br",{}),"Check out the mod page for more information!",Object(p.jsx)("br",{}),"You can find the source code over on ",Object(p.jsx)("a",{target:"_blank",href:"https://github.com/Nia292/tw-map",rel:"noreferrer",children:"GitHub"}),"."]}),Object(p.jsx)("div",{className:"dialog-subheader",children:"Privacy"}),Object(p.jsxs)("div",{children:["This site does not track your information. ",Object(p.jsx)("br",{}),"This site does not use cookies. ",Object(p.jsx)("br",{}),"This site does not store data on your local device aside from normal browser caching. ",Object(p.jsx)("br",{}),"Site provided by\xa0",Object(p.jsx)("a",{target:"_blank",href:"https://pages.github.com/",rel:"noreferrer",children:"GitHub pages"}),". Check out\xa0",Object(p.jsx)("a",{target:"_blank",href:"https://docs.github.com/en/github/site-policy/github-privacy-statement",rel:"noreferrer",children:"GitHub's privacy statement"}),"\xa0to find out what data GitHub collects."]}),Object(p.jsx)("div",{className:"dialog-subheader",children:"Contributing"}),Object(p.jsx)("div",{children:"This map is far from completed. Head over to GitHub to find out how to contribute data!"}),Object(p.jsx)("div",{className:"dialog-subheader",children:"More"}),Object(p.jsxs)("div",{children:["There is also the ",Object(p.jsx)("a",{target:"_blank",href:"https://nia292.github.io/tw-dice-calc/index.html",rel:"noreferrer",children:"TW Dice Calculator"})," to plan your RP characters!"]}),Object(p.jsx)("div",{className:"dialog-subheader",children:"Credits"}),Object(p.jsxs)("div",{children:["Funcom for Conan Exiles and the map!",Object(p.jsx)("br",{}),"Savage Wilds mod for the Savage Wilds map! ",Object(p.jsx)("br",{}),"Japata for helping me with the locations and general thrall information. \ud83d\udc0d"]}),Object(p.jsx)("div",{className:"dialog-subheader",children:"Contributors"}),Object(p.jsx)("div",{className:"display-in-column",children:t.contributors.map((function(t){return Object(p.jsx)("div",{children:t},t)}))})]})}):Object(p.jsx)(i.a.Fragment,{})},M=n(10),_=n(5),A=(n(32),function(t){function e(e,n){if(""!==e){var a=Number.parseInt(e,10);t.onOffsetChange(Object(_.a)(Object(_.a)({},t.offset),{},Object(M.a)({},n,a)))}}return t.open?Object(p.jsx)("div",{className:"dialog-container",onClick:t.onClose,children:Object(p.jsxs)("div",{className:"dialog",onClick:function(t){"A"!==t.target.tagName&&t.preventDefault(),t.stopPropagation()},children:[Object(p.jsx)("div",{className:"dialog-header",children:"Settings"}),Object(p.jsx)("div",{className:"dialog-subheader",children:"Map Offsets"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:"Used to correct initial reading errors."}),Object(p.jsxs)("div",{className:"settings-input",children:[Object(p.jsx)("label",{htmlFor:"offset-top",children:"Offset Top"}),Object(p.jsx)("input",{id:"offset-top",type:"number",onChange:function(t){return e(t.target.value,"offsetTop")},value:t.offset.offsetTop})]}),Object(p.jsxs)("div",{className:"settings-input",children:[Object(p.jsx)("label",{htmlFor:"offset-top",children:"Offset Bottom"}),Object(p.jsx)("input",{id:"offset-top",type:"number",onChange:function(t){return e(t.target.value,"offsetBot")},value:t.offset.offsetBot})]}),Object(p.jsxs)("div",{className:"settings-input",children:[Object(p.jsx)("label",{htmlFor:"offset-top",children:"Offset Left"}),Object(p.jsx)("input",{id:"offset-top",type:"number",onChange:function(t){return e(t.target.value,"offsetLeft")},value:t.offset.offsetLeft})]}),Object(p.jsxs)("div",{className:"settings-input",children:[Object(p.jsx)("label",{htmlFor:"offset-top",children:"Offset Right"}),Object(p.jsx)("input",{id:"offset-top",type:"number",onChange:function(t){return e(t.target.value,"offsetRight")},value:t.offset.offsetRight})]})]})]})}):Object(p.jsx)(i.a.Fragment,{})});function Z(t,e,n){var a=t.find((function(t){return function(t,e){var n=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);return n<=.005&&a<=.005}(t,e)}));a?a.names.push(n.name):t.push({x:e.x,y:e.y,z:e.z,names:[n.name]})}var F=Object(m.icon)({iconUrl:"/tw-map/fc_assets/icon_camp.png",iconSize:[24,24],tooltipAnchor:[0,12]});function B(t){if(t.focused)return Object(p.jsx)(i.a.Fragment,{});var e=function(t){var e=[];return t.forEach((function(t){t.locations.forEach((function(n){return Z(e,n,t)}))})),e}(t.thralls).map((function(t){return function(t){var e=y(t);return Object(p.jsx)(T.a,{icon:F,position:e,children:Object(p.jsx)(L.a,{direction:"bottom",children:Object(p.jsx)("div",{className:"display-in-column",children:t.names.map((function(t){return Object(p.jsx)("div",{children:t},t)}))})})},e.lat+"_"+e.lng)}(t)}));return Object(p.jsx)(i.a.Fragment,{children:e})}var H={lat:0,lng:0};function D(t){var e=Object(o.useState)(void 0),n=Object(j.a)(e,2),a=n[0],i=n[1],c=Object(o.useState)(!1),s=Object(j.a)(c,2),r=s[0],l=s[1],d=Object(o.useState)(void 0),h=Object(j.a)(d,2),O=h[0],x=h[1],v=Object(o.useState)(!1),g=Object(j.a)(v,2),S=g[0],C=g[1],T=Object(o.useState)(!1),L=Object(j.a)(T,2),k=L[0],M=L[1],_=Object(o.useState)(!1),Z=Object(j.a)(_,2),F=Z[0],D=Z[1],P=Object(o.useState)({offsetTop:0,offsetBot:0,offsetLeft:0,offsetRight:0}),q=Object(j.a)(P,2),I=q[0],G=q[1];var W,K=(null===O||void 0===O?void 0:O.center)?O.center:H,U=(null===O||void 0===O?void 0:O.zoom)?O.zoom:-8.7,J=function(t,e,n,a,o){var i=new m.LatLng(t-o.offsetBot,e-o.offsetLeft),c=new m.LatLng(n-o.offsetTop,a-o.offsetRight);return new m.LatLngBounds(i,c)}(t.south,t.west,t.north,t.east,I);return Object(p.jsxs)("div",{className:"thrall-map-wrapper",children:[Object(p.jsx)("div",{id:"info-button",className:"display-in-center",onClick:function(){return C(!0)},children:Object(p.jsx)("span",{className:"material-icons",style:{fontSize:"18pt"},children:"help_outline"})}),Object(p.jsx)("div",{id:"settings-button",className:"display-in-center",onClick:function(){return M(!0)},children:Object(p.jsx)("span",{className:"material-icons",style:{fontSize:"18pt"},children:"settings"})}),Object(p.jsxs)("div",{id:"hq-checkbox-wrapper",className:"display-in-center",children:[Object(p.jsx)("input",{id:"hq-checkbox",type:"checkbox",checked:F,onClick:function(t){var e=t.target;D(e.checked)}}),Object(p.jsx)("label",{htmlFor:"hq-checkbox",children:"HQ Map (11mb)"})]}),Object(p.jsxs)("div",{id:"map-link",className:"display-in-center",children:["Switch to\xa0",Object(p.jsx)("a",{rel:"noreferrer",href:(W=t.mapType,"exiled-lands"===W?"/tw-map?map=savage-wilds":"/tw-map?map=exiled-lands"),children:function(t){return"exiled-lands"===t?"Savage Wilds":"Exiled Lands"}(t.mapType)})]}),Object(p.jsx)(E,{open:S,onClose:function(){return C(!1)},contributors:t.contributors}),Object(p.jsx)(A,{open:k,offset:I,onOffsetChange:G,onClose:function(){return M(!1)}}),Object(p.jsxs)(u.a,{center:K,style:{height:"100vh",width:"calc(100vw - var(--sidebar-width))"},minZoom:t.minZoom,maxZoom:t.maxZoom,zoomSnap:.1,zoomDelta:.1,crs:m.CRS.Simple,bounds:J,maxBounds:J,zoomControl:!1,zoom:U,children:[Object(p.jsx)(f.a,{}),!F&&Object(p.jsx)(b.a,{url:"/tw-map"+t.mapLq,bounds:J}),F&&Object(p.jsx)(b.a,{url:"/tw-map"+t.mapHq,bounds:J}),Object(p.jsx)(z,{mapBounds:J,onZoomCenterChange:x}),Object(p.jsx)(N,{location:O}),Object(p.jsx)(R,{thrall:a,focused:r}),Object(p.jsx)(B,{thralls:t.data,focused:r})]}),Object(p.jsx)("div",{className:"sidebar-right",children:Object(p.jsx)(w,{thralls:t.data,onSelectLocation:function(t){x({center:y(t),zoom:-7})},selectedThrallFocused:r,selectedThrall:a,onDeselectThrall:function(){l(!1),x({zoom:-8.7,center:H})},onSelectThrall:function(t){var e=function(t){if(t.length<=0)return null;if(t.length<=1)return y(t[0]);if(t.length<=2){var e=t.map((function(t){return y(t)}));return new m.Polyline(e).getBounds().getCenter()}var n=t.map((function(t){return y(t)}));return new m.Polygon(n).getBounds().getCenter()}(t.locations);e&&x({zoom:-8,center:e}),i(t),l(!0)}})})]})}function P(){var t=new URLSearchParams(window.location.search).get("map");if(t&&"savage-wilds"===t)return"savage-wilds";if(t&&"exiled-lands"===t)return"exiled-lands";if(!t){var e=window.location.protocol+"//"+window.location.host+window.location.pathname+"?map=exiled-lands";window.history.pushState({path:e},"",e)}return"exiled-lands"}var q=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={loaded:!1,data:{data:[],map_hq:"",map_lq:"",minZoom:-12,maxZoom:-4,bounds:{east:0,north:0,south:0,west:0}}},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch(function(){var t=P();return console.log("/tw-map"),"exiled-lands"===t?"/tw-map/data.json":"/tw-map/data_sw.json"}()).then((function(t){return t.json()})).then((function(e){return t.setState({data:e,loaded:!0})}))}},{key:"render",value:function(){if(!this.state.loaded)return Object(p.jsx)("div",{children:"Map Loading..."});var t=this.state.data.bounds;return Object(p.jsx)("div",{children:Object(p.jsx)(D,{data:this.state.data.data,mapType:P(),minZoom:this.state.data.minZoom,maxZoom:this.state.data.maxZoom,mapHq:this.state.data.map_hq,mapLq:this.state.data.map_lq,north:t.north,west:t.west,east:t.east,south:t.south,contributors:this.state.data.contributors||[]})})}}]),n}(i.a.Component);s.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(q,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.e292472f.chunk.js.map